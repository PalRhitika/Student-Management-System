{% extends "base.html" %}
{% block content %}
<div class="container my-5">
  <div class="d-flex justify-content-between align-items-center">
    <h2 class="mb-4">Metadata</h2>
    <a href="{% url 'metadata_create' %}" class="btn btn-gradient mb-3"> Add Metadata</a>
  </div>

  {% if metadata %}
  <table class="table table-striped  table-bordered">
    <thead class="table-primary">
      <tr>
        <th>Key</th>
        <th>Value</th>
        <th>Created At</th>
        <th>Updated At</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for m in metadata %}
      <tr>
        <td>{{ m.key }}</td>
        <td>{{ m.value }}</td>
        <td>{{ m.created_at|date:"Y-m-d H:i" }}</td>
        <td>{{ m.updated_at|date:"Y-m-d H:i" }}</td>
        <td>
          <a href="{% url 'metadata_edit' m.id %}" class="btn btn-sm btn-outline-success text-success">Edit</a>
          <a href="{% url 'metadata_delete' m.id %}" class="btn btn-sm btn-outline-danger text-danger">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="alert alert-info">No metadata yet. <a href="{% url 'metadata_create' %}">Add one</a>.</div>
  {% endif %}
</div>
{% endblock %}
